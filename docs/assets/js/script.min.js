"use strict";let localCompsData=[{name:"Two Weeks Game",file:"twg"},{name:"Two-Two Weeks Game",file:"ttwg"},{name:"One Week Game",altNames:["Two/Two Weeks Game"],file:"owg"},{name:"Three Days Game",file:"three-dg"},{name:"Two Days Game",file:"two-dg"}],parseLocalComps=e=>{let t=$make.qs(".names"),a=$create.elem("ul");e.forEach(e=>{let t=$create.elem("li"),l=$create.elem("button",e.name,"btn btn__name");if(e.altNames&&0!=e.altNames.length){let t=$create.elem("ul","","btn__name--alt-names-list");e.altNames.forEach(e=>{let a=$create.elem("li",e);t.appendChild(a)}),l.appendChild(t)}l.addEventListener("click",t=>{getCompData(e.file)}),t.appendChild(l),a.appendChild(t)}),t.appendChild(a)},getCompData=e=>{let t=$make.qs(".comps"),a=$make.qs(".games");fetch(`https://raw.githubusercontent.com/twoweeks/db/master/json/min/${e}.json`).then(e=>{if(e.ok)return t.textContent="",a.textContent="",e.json();throw 42}).then(e=>{let l=$create.elem("ul");e.forEach(e=>{let t=$create.elem("li"),n=$create.elem("button",`Конкурс №${e.meta.num}`,"btn btn__comp");if(e.meta.edition&&""!=e.meta.edition){let t=$create.elem("p",`${e.meta.edition} Edition`,"btn__comp--edition");n.appendChild(t)}t.appendChild(n),l.appendChild(t);let m=$create.elem("div"),o=$create.elem("div"),i=$create.elem("div"),d=$create.elem("h2",`Конкурс №${e.meta.num}`);o.appendChild(d),m.appendChild(o),m.appendChild(i),a.appendChild(m)}),t.appendChild(l)}).catch(e=>{console.log(e)})};document.addEventListener("DOMContentLoaded",()=>{parseLocalComps(localCompsData);let e=$check.get("get");getCompData(e&&""!=e?e:"twg")});